/**
 * Stamp was generated by <generateFileStamps.sh>
 * Last time was modified by <StampedFile.kt>
 *
 * Name: <InsertController.kt>
 * Created: <02/07/2020, 11:27:00 PM>
 * Modified: <06/07/2020, 07:25:08 PM>
 * Version: <4>
 */

package worder.insert

import tornadofx.Controller
import worder.database.DatabaseController
import worder.insert.model.InsertModel
import worder.insert.model.implementations.DefaultInsertModel
import worder.insert.view.InsertView
import java.io.File

class InsertController : Controller() {
    private val insertView: InsertView by inject()
    private val databaseController: DatabaseController by inject()

    var currentInsertModel: InsertModel? = null


    fun generateInsertModel(files: List<File>) {
        currentInsertModel = DefaultInsertModel.createInstance(databaseController.db!!.inserter, files)
        insertView.toUploadedState()
    }

    fun releaseInsertModel() {
        currentInsertModel = null
        insertView.toNotUploadedState()
    }
}
