/**
 * Stamp was generated by <generateFileStamps.sh>
 * Last time was modified by <StampedFile.kt>
 *
 * Name: <MainView.kt>
 * Created: <02/07/2020, 11:27:00 PM>
 * Modified: <31/07/2020, 08:57:20 PM>
 * Version: <19>
 */

package worder.core

import javafx.geometry.Pos
import javafx.scene.layout.BorderPane
import tornadofx.DrawerItem
import tornadofx.View
import tornadofx.addClass
import tornadofx.borderpane
import tornadofx.drawer
import tornadofx.hbox
import tornadofx.hyperlink
import tornadofx.imageview
import worder.core.styles.WorderDefaultStyles
import worder.database.DatabaseTabView
import worder.insert.InsertTabView
import worder.update.UpdateTabView

class MainView : View("Worder GUI") {
    private lateinit var databaseTab: DrawerItem
    private lateinit var updaterTab: DrawerItem
    private lateinit var inserterTab: DrawerItem


    override val root: BorderPane = borderpane {
        top<DatabaseDashboardView>()

        center = drawer {
            databaseTab = item<DatabaseTabView>(expanded = true)
            updaterTab = item<UpdateTabView>(expanded = false)
            inserterTab = item<InsertTabView>(expanded = false)
        }

        bottom = hbox(alignment = Pos.CENTER) {
            addClass(WorderDefaultStyles.statusBar)

            hyperlink(text = "Â© 2019-2020 Yevhenii Nadtochii No Rights Reserved", graphic = imageview("/icons/github-icon_32x32.png")) {
                setOnAction {
                    hostServices.showDocument("https://github.com/yevhenii8/worder")
                }
            }
        }
    }


    fun switchToDatabaseTab() {
        databaseTab.expanded = true
    }

    fun switchToInsertTab() {
        inserterTab.expanded = true
    }

    fun switchToUpdateTab() {
        updaterTab.expanded = true
    }
}
